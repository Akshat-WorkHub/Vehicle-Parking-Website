<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Summary</title>
    <!-- Link to potentially shared admin styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='admin_dashboard.css') }}">
    <!-- Link to specific summary styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='admin_summary.css') }}">
    <!-- Google Fonts (Optional, if using Inter from previous CSS) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <!-- Re-use or adapt header from admin_dashboard -->
        <header class="dashboard-header">
            <div class="header-left">
                <h1>Welcome to Admin Dashboard</h1>
            </div>
            <div class="header-right">
                <a href="{{ url_for('serve_admin_dashboard') }}" class="nav-button">Home</a>
                <!-- Make sure the function name 'serve_admin_summary' exists in main.py -->
                <a href="{{ url_for('serve_admin_summary') }}" class="nav-button active">Summary</a>
                <a href="{{ url_for('serve_index_page') }}" class="nav-button logout-button">Log Out</a>
            </div>
        </header>

        <main class="dashboard-main-content summary-content">
            <!-- Control Buttons -->
            <div class="summary-controls">
                <button id="show-profit-btn" class="summary-btn active">Show Profit (Lot Wise)</button>
                <button id="show-status-btn" class="summary-btn">Show Lot Status</button>
            </div>

            <!-- Display Area -->
            <div class="summary-display-area">
                <!-- Profit Section (Visible by default) -->
                <div id="profit-section" class="summary-section">
                    <h2 class="section-title">Profit Based on Lots</h2>
                    <div id="profit-chart-container" class="chart-container">
                        <div class="chart-wrapper">
                             <canvas id="profitChart"></canvas>
                        </div>
                        <div id="profitChartLegend" class="chart-legend">
                            <!-- Legend generated by JS -->
                        </div>
                    </div>
                     <p id="profit-error-message" class="error-message" style="display: none;"></p>
                </div>

                <!-- Status Section (Hidden by default) -->
                <div id="status-section" class="summary-section hidden">
                    <h2 class="section-title">Current Lot Occupancy Status</h2>
                    <!-- ***** ID CORRECTED HERE ***** -->
                    <!-- This container will hold the dynamically created statusChart canvas -->
                    <div id="status-chart-container" class="status-chart-container">
                        <!-- JavaScript will create the <canvas id="statusChart"> inside here -->
                    </div>
                     <p id="status-error-message" class="error-message" style="display: none;"></p>
                </div>
            </div>
        </main>
    </div>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chart.js Datalabels Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <!-- Link to the summary JavaScript file -->
    <script src="{{ url_for('static', filename='admin_summary.js') }}"></script>
</body>
</html>

